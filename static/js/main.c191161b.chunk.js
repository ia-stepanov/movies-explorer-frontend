(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(22).concat([function(e,t,a){},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(23),i=a.n(n),r=(a(31),a(2)),o=(a(32),a(4)),l=c.a.createContext(),m=(a(33),a(3)),j=a.p+"static/media/logo.cf976ac1.svg",u=(a(34),a(0));var d=function(){return Object(u.jsx)("nav",{className:"nav-auth",children:Object(u.jsxs)("ul",{className:"nav-auth__list",children:[Object(u.jsx)("li",{className:"nav-auth__list-item",children:Object(u.jsx)(m.b,{to:"/signup",className:"nav-auth__link nav-auth__link_type_signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(u.jsx)("li",{className:"auth__list-item",children:Object(u.jsx)(m.b,{to:"/signin",className:"nav-auth__link nav-auth__link_type_signin",children:"\u0412\u043e\u0439\u0442\u0438"})})]})})},b=(a(41),function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],n=function(){return c(!a)};return Object(u.jsxs)("nav",{className:"navigation",children:[Object(u.jsx)("button",{className:"navigation__btn-menu",type:"button",onClick:n}),Object(u.jsx)("div",{className:"navigation__container ".concat(a?"navigation__container_visible":""),children:Object(u.jsxs)("div",{className:"navigation__sidebar",children:[Object(u.jsxs)("div",{className:"navigation__list-container",children:[Object(u.jsx)("button",{className:"navigation__btn-close",type:"button",onClick:n}),Object(u.jsxs)("ul",{className:"navigation__list",children:[Object(u.jsx)("li",{className:"navigation__list-item navigation__list-item_type_main",children:Object(u.jsx)(m.b,{to:"/",className:"navigation__link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(u.jsx)("li",{className:"navigation__list-item",children:Object(u.jsx)(m.c,{to:"/movies",className:"navigation__link",activeClassName:"navigation__link_active",children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(u.jsx)("li",{className:"navigation__list-item",children:Object(u.jsx)(m.c,{to:"/saved-movies",className:"navigation__link",activeClassName:"navigation__link_active",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})})]})]}),Object(u.jsx)(m.b,{to:"/profile",className:"navigation__link navigation__link_type_profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]})})]})}),h=function(e){var t=e.loggedIn,a=e.isLoading,s=Object(o.h)().pathname;return Object(u.jsxs)("header",{className:"header ".concat("/"!==s?"":"header_type_auth"),children:[Object(u.jsx)(m.b,{to:"/",className:"header__link",children:Object(u.jsx)("img",{className:"header__logo",src:j,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f Movies Explorer"})}),a?"":t?Object(u.jsx)(b,{}):Object(u.jsx)(d,{})]})},_=(a(42),a.p+"static/media/landing-logo.543239eb.svg");var f=function(){return Object(u.jsxs)("section",{className:"promo",children:[Object(u.jsxs)("div",{className:"promo__container",children:[Object(u.jsx)("h1",{className:"promo__title",children:" \u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431\u2011\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(u.jsx)("p",{className:"promo__text",children:"\u041b\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f."}),Object(u.jsx)("a",{className:"promo__link",href:"#about-project",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]}),Object(u.jsx)("img",{className:"promo__logo",src:_,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})]})},O=(a(43),function(){return Object(u.jsxs)("section",{className:"about",id:"about-project",children:[Object(u.jsx)("h2",{className:"about__header",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(u.jsxs)("div",{className:"about__container",children:[Object(u.jsxs)("div",{className:"about__info",children:[Object(u.jsx)("h3",{className:"about__info-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(u.jsx)("p",{className:"about__info-text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(u.jsxs)("div",{className:"about__info",children:[Object(u.jsx)("h3",{className:"about__info-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(u.jsx)("p",{className:"about__info-text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(u.jsxs)("div",{className:"about__container",children:[Object(u.jsxs)("div",{className:"about__timeline",children:[Object(u.jsx)("h4",{className:"about__timeline-title",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(u.jsx)("p",{className:"about__timeline-text",children:"Back-end"})]}),Object(u.jsxs)("div",{className:"about__timeline",children:[Object(u.jsx)("h4",{className:"about__timeline-title about__timeline-title_type_light",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(u.jsx)("p",{className:"about__timeline-text",children:"Front-end"})]})]})]})}),p=(a(44),function(){return Object(u.jsxs)("section",{className:"techs",children:[Object(u.jsx)("h2",{className:"techs__header",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(u.jsxs)("div",{className:"techs__container",children:[Object(u.jsx)("h3",{className:"techs__title",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(u.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(u.jsxs)("ul",{className:"techs__items",children:[Object(u.jsx)("li",{className:"techs__item",children:"HTML"}),Object(u.jsx)("li",{className:"techs__item",children:"CSS"}),Object(u.jsx)("li",{className:"techs__item",children:"JS"}),Object(u.jsx)("li",{className:"techs__item",children:"React"}),Object(u.jsx)("li",{className:"techs__item",children:"Git"}),Object(u.jsx)("li",{className:"techs__item",children:"Express.js"}),Object(u.jsx)("li",{className:"techs__item",children:"mongoDB"})]})]})]})}),v=(a(45),a.p+"static/media/avatar.1ddb8b99.jpg"),x=function(){return Object(u.jsxs)("section",{className:"about-me",children:[Object(u.jsx)("h2",{className:"about-me__header",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(u.jsxs)("div",{className:"about-me__container",children:[Object(u.jsxs)("div",{className:"about-me__info",children:[Object(u.jsx)("h3",{className:"about-me__name",children:"\u0418\u0433\u043e\u0440\u044c"}),Object(u.jsx)("p",{className:"about-me__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 30 \u043b\u0435\u0442"}),Object(u.jsx)("p",{className:"about-me__description",children:"\u042f\xa0\u0440\u0430\u0431\u043e\u0442\u0430\u043b 14\xa0\u043b\u0435\u0442 \u0432\xa0\u0441\u0444\u0435\u0440\u0435 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0434\u0438\u0437\u0430\u0439\u043d\u0430, \u043c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c \u0440\u0435\u0448\u0430\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441\xa0\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0434\u0435\u0442\u0441\u043a\u0438\u0435 \u0430\u043b\u044c\u0431\u043e\u043c\u044b \u0441\xa0\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e (AR) \u0438\u043b\u0438 \u043d\u043e\u0432\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0434\u043b\u044f \u0432\u044b\u0440\u0435\u0437\u043a\u0438 \u043d\u0430\xa0\u0445\u0440\u043e\u043c\u0430\u043a\u0435\u0435. \u0412\xa0\u0442\u043e\u0442 \u043c\u043e\u043c\u0435\u043d\u0442 \u044f\xa0\u043f\u0440\u0438\u0448\u0451\u043b \u043a\xa0\u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044e, \u0447\u0442\u043e \u0434\u043b\u044f \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043d\u0443\u0436\u043d\u044b \u0437\u043d\u0430\u043d\u0438\u044f \u044f\u0437\u044b\u043a\u043e\u0432 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\xa0\u0440\u0435\u0448\u0438\u043b \u0443\u0433\u043b\u0443\u0431\u0438\u0442\u044c\u0441\u044f \u0432\xa0IT \u0441\u0444\u0435\u0440\u0443,\xa0\u2014 \u043c\u0435\u043d\u044f \u0437\u0430\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438\xa0\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0434\u043e\u0431\u043d\u044b\u0435 \u0438\xa0\u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b."}),Object(u.jsxs)("ul",{className:"about-me__links",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"about-me__link",href:"https://www.linkedin.com/in/ia-stepanov/",target:"_blank",rel:"noreferrer",children:"LinkedIn"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"about-me__link",href:"https://www.facebook.com/ia.stepanov",target:"_blank",rel:"noreferrer",children:"Facebook"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"about-me__link",href:"https://t.me/ia_stepanov",target:"_blank",rel:"noreferrer",children:"Telegram"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"about-me__link",href:"https://github.com/ia-stepanov",target:"_blank",rel:"noreferrer",children:"Github"})})]})]}),Object(u.jsx)("img",{src:v,alt:"about-me",className:"about-me__image"})]})]})},g=(a(46),function(){return Object(u.jsxs)("section",{className:"portfolio",children:[Object(u.jsx)("h3",{className:"portfolio__header",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(u.jsxs)("ul",{className:"portfolio__list",children:[Object(u.jsx)("li",{className:"portfolio__list-item",children:Object(u.jsx)("a",{className:"portfolio__link",href:"https://github.com/ia-stepanov/how-to-learn",target:"_blank",rel:"noreferrer",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(u.jsx)("li",{className:"portfolio__list-item",children:Object(u.jsx)("a",{className:"portfolio__link",href:"https://github.com/ia-stepanov/russian-travel",target:"_blank",rel:"noreferrer",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(u.jsx)("li",{className:"portfolio__list-item",children:Object(u.jsx)("a",{className:"portfolio__link",href:"https://github.com/ia-stepanov/react-mesto-api-full",target:"_blank",rel:"noreferrer",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})}),N=function(){return Object(u.jsxs)("main",{className:"main",children:[Object(u.jsx)(f,{}),Object(u.jsx)(O,{}),Object(u.jsx)(p,{}),Object(u.jsx)(x,{}),Object(u.jsx)(g,{})]})},k=(a(47),function(){return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)("h3",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(u.jsxs)("div",{className:"footer__container",children:[Object(u.jsx)("p",{className:"footer__copyright",children:"\xa9 2022"}),Object(u.jsx)("nav",{className:"footer__nav",children:Object(u.jsxs)("ul",{className:"footer__nav-list",children:[Object(u.jsx)("li",{className:"footer__nav-item",children:Object(u.jsx)("a",{className:"footer__nav-link",href:"https://practicum.yandex.ru/web/",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(u.jsx)("li",{className:"footer__nav-item",children:Object(u.jsx)("a",{className:"footer__nav-link",href:"https://github.com/ia-stepanov/",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(u.jsx)("li",{className:"footer__nav-item",children:Object(u.jsx)("a",{className:"footer__nav-link",href:"https://www.facebook.com/ia.stepanov/",target:"_blank",rel:"noreferrer",children:"Facebook"})})]})})]})]})}),S=a(13),y=a(7),I=a.n(y),w=(a(49),a(50),function(e){var t=e.handleGetMovies,a=e.filmsTumbler,c=e.filmsInputSearch,n=e.handleGetMoviesTumbler,i=Object(s.useState)(""),o=Object(r.a)(i,2),l=o[0],m=o[1],j=Object(s.useState)(!1),d=Object(r.a)(j,2),b=d[0],h=d[1];return Object(s.useEffect)((function(){h(a),m(c)}),[a,c]),Object(u.jsxs)("form",{className:"search",children:[Object(u.jsxs)("div",{className:"search__container",children:[Object(u.jsx)("input",{className:"search__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",type:"text",value:l||"",onChange:function(e){m(e.target.value)},required:!0}),Object(u.jsx)("button",{type:"submit",className:"search__button",onClick:function(e){e.preventDefault(),t(l)},children:"\u041d\u0430\u0439\u0442\u0438"})]}),Object(u.jsxs)("div",{className:"search__toggle",children:[Object(u.jsx)("p",{className:"search__films",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"}),Object(u.jsxs)("label",{className:"search__tumbler",children:[Object(u.jsx)("input",{className:"search__checkbox",type:"checkbox",value:b,checked:b,onChange:function(e){var t=!b;h(t),n(t)}}),Object(u.jsx)("span",{className:"search__slider"})]})]})]})}),T=(a(51),a(6)),C=(a(52),function(e){var t,a=e.film,c=e.savedMoviesToggle,n=e.filmsSaved,i=Object(o.h)().pathname,l=Object(s.useState)(!1),m=Object(r.a)(l,2),j=m[0],d=m[1];return Object(s.useEffect)((function(){"/saved-movies"!==i&&(n.filter((function(e){return e.movieId==a.id})).length>0?d(!0):d(!1))}),[i,n,a.id]),Object(u.jsxs)("li",{className:"card",children:[Object(u.jsx)("a",{className:"card__image-content",href:"/saved-movies"===i?a.trailer:a.trailerLink,target:"_blank",rel:"noreferrer",children:Object(u.jsx)("img",{className:"card__image",src:"/saved-movies"===i?"".concat(a.image):"https://api.nomoreparties.co".concat(a.image.url),alt:a.nameRU})}),Object(u.jsxs)("div",{className:"card__element",children:[Object(u.jsx)("p",{className:"card__title",children:a.nameRU}),Object(u.jsx)("div",{className:"card__buttons",children:"/saved-movies"===i?Object(u.jsx)("button",{type:"button",className:"card__button card__button_delete",onClick:function(){c(a,!1)}}):Object(u.jsx)("button",{type:"button",className:"card__button card__button".concat(j?"_active":"_inactive"),onClick:function(){var e=!j,t=n.filter((function(e){return e.movieId==a.id}));c(Object(T.a)(Object(T.a)({},a),{},{_id:t.length>0?t[0]._id:null}),e)}})})]}),Object(u.jsx)("p",{className:"card__duration",children:(t=a.duration,"".concat(Math.floor(t/60),"\u0447 ").concat(t%60,"\u043c"))})]})}),M=function(e){var t=e.films,a=e.savedMoviesToggle,s=e.filmsSaved,c=e.filmsRemains,n=e.handleMore,i=Object(o.h)().pathname;return Object(u.jsxs)("section",{className:"cards",children:[t.length>0?Object(u.jsx)("ul",{className:"cards__list",children:t.map((function(e){return Object(u.jsx)(C,{film:e,savedMoviesToggle:a,filmsSaved:s},e.id||e.movieId)}))}):Object(u.jsx)("div",{className:"cards__text",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),c.length>0&&"/saved-movies"!==i&&Object(u.jsx)("div",{className:"cards__button-container",children:Object(u.jsx)("button",{className:"cards__button",type:"button",name:"more",onClick:n,children:"\u0415\u0449\u0451"})})]})},E=(a(53),function(){return Object(u.jsx)("div",{className:"preloader",children:Object(u.jsx)("div",{className:"preloader__container",children:Object(u.jsx)("span",{className:"preloader__round"})})})}),R=a(14),F=a(15),L=new(function(){function e(t){Object(R.a)(this,e),this._address=t.address,this._headers=t.headers}return Object(F.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getMovies",value:function(){return fetch("".concat(this._address,"/beatfilm-movies"),{method:"GET",headers:this._headers}).then(this._checkResponse)}}]),e}())({address:"https://api.nomoreparties.co",headers:{"Content-Type":"application/json"}}),P=new(function(){function e(t){Object(R.a)(this,e),this._address=t.address,this._headers=t.headers}return Object(F.a)(e,[{key:"_handleRes",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"registerUser",value:function(e){var t=e.name,a=e.email,s=e.password;return fetch("".concat(this._address,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:a,password:s})}).then(this._handleRes)}},{key:"loginUser",value:function(e){var t=e.email,a=e.password;return fetch("".concat(this._address,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}).then(this._handleRes)}},{key:"getToken",value:function(e){return fetch("".concat(this._address,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(this._handleRes)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._address,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleRes)}},{key:"updateUserInfo",value:function(e){return fetch("".concat(this._address,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,email:e.email})}).then(this._handleRes)}},{key:"getMovies",value:function(){return fetch("".concat(this._address,"/movies"),{method:"GET",headers:this._headers}).then(this._handleRes)}},{key:"addMovies",value:function(e){return fetch("".concat(this._address,"/movies"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleRes)}},{key:"deleteMovies",value:function(e){return fetch("".concat(this._address,"/movies/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleRes)}},{key:"updateToken",value:function(){this._headers.Authorization="Bearer ".concat(localStorage.getItem("jwt"))}}]),e}())({address:"https://a.ia-stepanov.nomoredomains.work",headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}),U=function(e){var t=e.openPopup,a=Object(s.useState)(null),c=Object(r.a)(a,2),n=c[0],i=c[1],o=Object(s.useState)(null),l=Object(r.a)(o,2),m=l[0],j=l[1],d=Object(s.useState)(!1),b=Object(r.a)(d,2),h=b[0],_=b[1],f=Object(s.useState)(""),O=Object(r.a)(f,2),p=O[0],v=O[1],x=Object(s.useState)(!1),g=Object(r.a)(x,2),N=g[0],k=g[1],y=Object(s.useState)(""),T=Object(r.a)(y,2),C=T[0],R=T[1],F=Object(s.useState)([]),U=Object(r.a)(F,2),G=U[0],J=U[1],B=Object(s.useState)(null),A=Object(r.a)(B,2),D=A[0],q=A[1],V=Object(s.useState)([]),z=Object(r.a)(V,2),H=z[0],W=z[1],K=Object(s.useState)([]),Q=Object(r.a)(K,2),X=Q[0],Y=Q[1];function Z(){var e,t=document.documentElement.clientWidth,a={1200:[12,4],900:[9,3],768:[8,2],240:[5,2]};return Object.keys(a).sort((function(e,t){return e-t})).forEach((function(s){t>+s&&(e=a[s])})),e}function $(){return($=Object(S.a)(I.a.mark((function e(t){var a,s,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!1),localStorage.setItem("filmsTumbler",!1),t){e.next=5;break}return v("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"),e.abrupt("return",!1);case 5:return v(""),_(!0),e.prev=7,e.next=10,L.getMovies();case 10:a=e.sent,s=a.filter((function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())})),localStorage.setItem("films",JSON.stringify(s)),localStorage.setItem("filmsInputSearch",t),c=s.splice(0,G[0]),q(c),i(s),Y(c),W(s),e.next=28;break;case 21:e.prev=21,e.t0=e.catch(7),v("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"),i([]),localStorage.removeItem("films"),localStorage.removeItem("filmsTumbler"),localStorage.removeItem("filmsInputSearch");case 28:return e.prev=28,_(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[7,21,28,31]])})))).apply(this,arguments)}function ee(){return(ee=Object(S.a)(I.a.mark((function e(t){var a,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=[],t?(Y(D),W(n),a=D.filter((function(e){return e.duration<=40})),s=n.filter((function(e){return e.duration<=40}))):(a=X,s=H),localStorage.setItem("films",JSON.stringify(a.concat(s))),localStorage.setItem("filmsTumbler",t),q(a),i(s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(S.a)(I.a.mark((function e(a,s){var c,n,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=16;break}return c={image:"https://api.nomoreparties.co"+a.image.url,trailer:a.trailerLink,thumbnail:"https://api.nomoreparties.co"+a.image.url,movieId:a.id,country:a.country||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",director:a.director,duration:a.duration,year:a.year,description:a.description,nameRU:a.nameRU,nameEN:a.nameEN},e.prev=2,e.next=5,P.addMovies(c);case 5:return e.next=7,P.getMovies();case 7:n=e.sent,j(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u043c\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.");case 14:e.next=28;break;case 16:return e.prev=16,e.next=19,P.deleteMovies(a._id);case 19:return e.next=21,P.getMovies();case 21:i=e.sent,j(i),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(16),t("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u043c\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.");case 28:case"end":return e.stop()}}),e,null,[[2,11],[16,25]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){J(Z());var e=function(){return J(Z())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(s.useEffect)((function(){P.getMovies().then((function(e){j(e)})).catch((function(e){t("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 ".concat(e))}));var e=localStorage.getItem("films");if(e){var a=JSON.parse(e);q(a.splice(0,Z()[0])),i(a),_(!1)}var s=localStorage.getItem("filmsTumbler"),c=localStorage.getItem("filmsInputSearch");s&&k("true"===s),c&&R(c)}),[t]),Object(u.jsxs)("div",{className:"movies",children:[Object(u.jsx)(w,{handleGetMovies:function(e){return $.apply(this,arguments)},filmsTumbler:N,filmsInputSearch:C,handleGetMoviesTumbler:function(e){return ee.apply(this,arguments)}}),h&&Object(u.jsx)(E,{}),p&&Object(u.jsx)("div",{className:"movies__text-error",children:p}),!h&&!p&&null!==n&&null!==m&&null!==D&&Object(u.jsx)(M,{handleMore:function(){var e=n,t=D.concat(e.splice(0,G[1]));q(t),i(e)},filmsRemains:n,films:D,savedMoviesToggle:function(e,t){return te.apply(this,arguments)},filmsSaved:m})]})},G=(a(54),function(e){var t=e.openPopup,a=Object(s.useState)(null),c=Object(r.a)(a,2),n=c[0],i=c[1],o=Object(s.useState)(!1),l=Object(r.a)(o,2),m=l[0],j=l[1],d=Object(s.useState)(""),b=Object(r.a)(d,2),h=b[0],_=b[1],f=Object(s.useState)(!1),O=Object(r.a)(f,2),p=O[0],v=O[1],x=Object(s.useState)(""),g=Object(r.a)(x,2),N=g[0],k=g[1],y=Object(s.useState)([]),T=Object(r.a)(y,2),C=T[0],R=T[1];function F(){return(F=Object(S.a)(I.a.mark((function e(t,a){var s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(""),j(!0);try{s=n.filter((function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())})),a&&(s=s.filter((function(e){return e.duration<=40}))),R(s),t?(localStorage.setItem("savedFilms",JSON.stringify(s)),localStorage.setItem("savedFilmsTumbler",a),localStorage.setItem("savedFilmsInputSearch",t)):(localStorage.removeItem("savedFilms"),localStorage.removeItem("savedFilmsTumbler"),localStorage.removeItem("savedFilmsInputSearch"))}catch(c){_("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"),i([]),localStorage.removeItem("savedFilms"),localStorage.removeItem("savedFilmsTumbler"),localStorage.removeItem("savedFilmsInputSearch")}finally{j(!1)}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(S.a)(I.a.mark((function e(a,s){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=14;break}return e.prev=1,e.next=4,P.deleteMovies(a._id);case 4:return e.next=6,P.getMovies();case 6:c=e.sent,R(c),i(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u043c\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return Object(s.useEffect)(Object(S.a)(I.a.mark((function e(){var a,s,c,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("savedFilms"))){e.next=9;break}i(JSON.parse(a)),s=localStorage.getItem("savedFilmsTumbler"),c=localStorage.getItem("savedFilmsInputSearch"),s&&v("true"===s),c&&k(c),e.next=20;break;case 9:return e.prev=9,e.next=12,P.getMovies();case 12:n=e.sent,i(n),R(n),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),t("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 ".concat(e.t0));case 20:case"end":return e.stop()}}),e,null,[[9,17]])}))),[t]),Object(u.jsxs)("div",{className:"saved-movies",children:[Object(u.jsx)(w,{handleGetMovies:function(e,t){return F.apply(this,arguments)},filmsTumbler:p,filmsInputSearch:N}),m&&Object(u.jsx)(E,{}),h&&Object(u.jsx)("div",{className:"saved-movies__text-error",children:h}),!m&&!h&&null!==n&&Object(u.jsx)(M,{filmsRemains:[],savedMoviesToggle:function(e,t){return L.apply(this,arguments)},films:C})]})}),J=a(12),B=(a(22),a(17));var A=function(e){var t=e.onRegister,a=Object(s.useState)({}),c=Object(r.a)(a,2),n=c[0],i=c[1],o=Object(s.useState)({}),l=Object(r.a)(o,2),d=l[0],b=l[1],h=Object(s.useState)(!1),_=Object(r.a)(h,2),f=_[0],O=_[1],p=function(e){var t=e.target,a=t.name,s=t.value;"email"===a&&(Object(B.a)(s)?t.setCustomValidity(""):t.setCustomValidity("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0447\u0442\u044b")),i(Object(T.a)(Object(T.a)({},n),{},Object(J.a)({},a,s))),b(Object(T.a)(Object(T.a)({},d),{},Object(J.a)({},a,t.validationMessage))),O(t.closest("form").checkValidity())};return Object(u.jsx)("section",{className:"form",children:Object(u.jsxs)("div",{className:"form__container",children:[Object(u.jsx)(m.b,{to:"/",className:"form__link",children:Object(u.jsx)("img",{className:"form__logo",src:j,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f Movies Explorer"})}),Object(u.jsx)("h2",{className:"form__title",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(u.jsxs)("form",{className:"form__inputs",onSubmit:function(e){e.preventDefault(),t(n)},children:[Object(u.jsxs)("div",{className:"form__items",children:[Object(u.jsxs)("label",{className:"form__item",children:[Object(u.jsx)("p",{className:"form__item-text",children:"\u0418\u043c\u044f"}),Object(u.jsx)("input",{className:"form__field",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",value:n.name||"",onChange:p,required:!0}),Object(u.jsx)("p",{className:"form__error",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."})]}),Object(u.jsxs)("label",{className:"form__item",children:[Object(u.jsx)("p",{className:"form__item-text",children:"E-mail"}),Object(u.jsx)("input",{className:"form__field ".concat(d.email?"form__field_color-error":""),name:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",value:n.email||"",onChange:p,required:!0}),Object(u.jsx)("p",{className:"form__error ".concat(d.email?"form__error-display":""),children:d.email})]}),Object(u.jsxs)("label",{className:"form__item",children:[Object(u.jsx)("p",{className:"form__item-text",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",{className:"form__field ".concat(d.password?"form__field_color-error":""),name:"password",type:"password",minLength:"6",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:n.password||"",onChange:p,required:!0}),Object(u.jsx)("p",{className:"form__error ".concat(d.password?"form__error-display":""),children:d.password})]})]}),Object(u.jsx)("button",{className:"form__button ".concat(f?"":"form__button_disabled"),type:"submit",disabled:!f||"",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(u.jsxs)("p",{className:"form__text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(u.jsx)(m.b,{to:"/signin",className:"form__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};var D=function(e){var t=e.onLogin,a=Object(s.useState)({}),c=Object(r.a)(a,2),n=c[0],i=c[1],o=Object(s.useState)({}),l=Object(r.a)(o,2),d=l[0],b=l[1],h=Object(s.useState)(!1),_=Object(r.a)(h,2),f=_[0],O=_[1],p=function(e){var t=e.target,a=t.name,s=t.value;"email"===a&&(Object(B.a)(s)?t.setCustomValidity(""):t.setCustomValidity("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0447\u0442\u044b")),i(Object(T.a)(Object(T.a)({},n),{},Object(J.a)({},a,s))),b(Object(T.a)(Object(T.a)({},d),{},Object(J.a)({},a,t.validationMessage))),O(t.closest("form").checkValidity())};return Object(u.jsx)("section",{className:"form",children:Object(u.jsxs)("div",{className:"form__container",children:[Object(u.jsx)(m.b,{to:"/",className:"form__link",children:Object(u.jsx)("img",{className:"form__logo",src:j,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f Movies Explorer"})}),Object(u.jsx)("h2",{className:"form__title",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(u.jsxs)("form",{className:"form__inputs",onSubmit:function(e){e.preventDefault(),t(n)},children:[Object(u.jsxs)("div",{className:"form__items",children:[Object(u.jsxs)("label",{className:"form__item",children:[Object(u.jsx)("p",{className:"form__item-text",children:"E-mail"}),Object(u.jsx)("input",{className:"form__field ".concat(d.email?"form__field_color-error":""),name:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",value:n.email||"",onChange:p,required:!0}),Object(u.jsx)("p",{className:"form__error ".concat(d.email?"form__error-display":""),children:d.email})]}),Object(u.jsxs)("label",{className:"form__item",children:[Object(u.jsx)("p",{className:"form__item-text",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",{className:"form__field ".concat(d.password?"form__field_color-error":""),name:"password",type:"password",minLength:"6",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:n.password||"",onChange:p,required:!0}),Object(u.jsx)("p",{className:"form__error ".concat(d.password?"form__error-display":""),children:d.password})]})]}),Object(u.jsx)("button",{className:"form__button ".concat(f?"":"form__button_disabled"),type:"submit",disabled:!f||"",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(u.jsxs)("p",{className:"form__text",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(u.jsx)(m.b,{to:"/signup",className:"form__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})},q=(a(55),function(e){var t=e.onSignOut,a=e.openPopup,c=Object(s.useContext)(l),n=Object(s.useState)(c.name),i=Object(r.a)(n,2),o=i[0],m=i[1],j=Object(s.useState)(c.name),d=Object(r.a)(j,2),b=d[0],h=d[1],_=Object(s.useState)(c.email),f=Object(r.a)(_,2),O=f[0],p=f[1],v=Object(s.useState)(c.email),x=Object(r.a)(v,2),g=x[0],N=x[1],k=Object(s.useState)(!1),S=Object(r.a)(k,2),y=S[0],I=S[1];return Object(u.jsx)("section",{className:"profile",children:Object(u.jsxs)("form",{className:"profile__form",onSubmit:function(e){e.preventDefault(),P.updateUserInfo({name:o,email:O}).then((function(){I(!1),h(o),N(O),a("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b!")})).catch((function(e){a("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! ".concat(e))}))},children:[Object(u.jsxs)("h3",{className:"profile__greeting",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",o,"!"]}),Object(u.jsxs)("div",{className:"profile__inputs",children:[Object(u.jsx)("p",{className:"profile__text",children:"\u0418\u043c\u044f"}),Object(u.jsx)("div",{className:"profile__area profile__area_type_name",children:Object(u.jsx)("input",{className:"profile__settings",value:o,onChange:function(e){var t=e.target.value;m(t),I(t!==b)}})}),Object(u.jsx)("div",{className:"profile__area profile__area_type_email",children:Object(u.jsx)("input",{className:"profile__settings",value:O,onChange:function(e){var t=e.target.value;p(t),I(t!==g)}})}),Object(u.jsx)("p",{className:"profile__text",children:"E-mail"})]}),Object(u.jsx)("button",{className:"profile__button",disabled:!y,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(u.jsx)("button",{className:"profile__link",type:"button",onClick:t,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})})}),V=(a(56),function(){return Object(u.jsxs)("div",{className:"not-found",children:[Object(u.jsxs)("div",{className:"not-found__container",children:[Object(u.jsx)("h1",{className:"not-found__title",children:"404"}),Object(u.jsx)("p",{className:"not-found__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]}),Object(u.jsx)(m.b,{to:"/",className:"not-found__link",children:"\u041d\u0430\u0437\u0430\u0434"})]})}),z=(a(57),function(e){var t=e.text,a=e.isOpen,s=e.onClose;return Object(u.jsx)("section",{className:"popup ".concat(a?"popup_opened":""),children:Object(u.jsxs)("div",{className:"popup__container",children:[Object(u.jsx)("p",{className:"popup__text",children:t}),Object(u.jsx)("button",{className:"popup__close",type:"button",onClick:s})]})})}),H=a(26),W=["component"],K=function(e){var t=e.component,a=Object(H.a)(e,W);return Object(u.jsx)(o.b,{children:function(){return a.isLoading?Object(u.jsx)(E,{}):a.loggedIn?Object(u.jsx)(t,Object(T.a)({},a)):Object(u.jsx)(o.a,{to:"/"})}})},Q=new(function(){function e(){Object(R.a)(this,e),this.key="jwt"}return Object(F.a)(e,[{key:"getToken",value:function(){return localStorage.getItem(this.key)}},{key:"saveToken",value:function(e){localStorage.setItem(this.key,e)}},{key:"removeToken",value:function(){localStorage.removeItem(this.key)}}]),e}());var X=Object(o.i)((function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),i=Object(r.a)(n,2),m=i[0],j=i[1],d=Object(s.useState)({}),b=Object(r.a)(d,2),_=b[0],f=b[1],O=Object(s.useState)(!1),p=Object(r.a)(O,2),v=p[0],x=p[1],g=Object(s.useState)(!0),S=Object(r.a)(g,2),y=S[0],I=S[1],w=Object(o.h)().pathname,T=Object(o.g)();function C(){P.getUserInfo().then((function(e){f(e),x(!0)})).catch((function(e){console.log("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 ".concat(e))})).finally((function(){I(!1)}))}function M(e){P.registerUser(e).then((function(t){t._id&&(j("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"),c(!0),R(e))})).catch((function(e){j("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438."),c(!0)}))}function R(e){P.loginUser(e).then((function(e){var t=e.token;t&&(Q.saveToken(t),P.updateToken(),x(!0),C(),T.push("/movies"))})).catch((function(e){j("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438."),c(!0)}))}function F(e){j(e),c(!0)}return Object(s.useEffect)((function(){C()}),[]),Object(u.jsx)(l.Provider,{value:_,children:Object(u.jsxs)("div",{className:"App",children:["/"===w||"/movies"===w||"/saved-movies"===w||"/profile"===w?Object(u.jsx)(h,{loggedIn:v,isLoading:y}):"",Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{exact:!0,path:"/",children:Object(u.jsx)(N,{})}),Object(u.jsx)(K,{path:"/movies",loggedIn:v,component:U,isLoading:y,openPopup:F}),Object(u.jsx)(K,{path:"/saved-movies",loggedIn:v,component:G,isLoading:y,openPopup:F}),Object(u.jsx)(K,{path:"/profile",loggedIn:v,component:q,isLoading:y,onSignOut:function(){Q.removeToken(),x(!1),localStorage.removeItem("films"),localStorage.removeItem("filmsTumbler"),localStorage.removeItem("filmsInputSearch"),localStorage.removeItem("savedFilms"),localStorage.removeItem("savedFilmsTumbler"),localStorage.removeItem("savedFilmsInputSearch")},openPopup:F}),Object(u.jsx)(o.b,{path:"/signin",children:function(){return y?Object(u.jsx)(E,{}):v?Object(u.jsx)(o.a,{to:"/movies"}):Object(u.jsx)(D,{onLogin:R})}}),Object(u.jsx)(o.b,{path:"/signup",children:function(){return y?Object(u.jsx)(E,{}):v?Object(u.jsx)(o.a,{to:"/movies"}):Object(u.jsx)(A,{onRegister:M})}}),Object(u.jsx)(o.b,{path:"*",children:Object(u.jsx)(V,{})})]}),"/"===w||"/movies"===w||"/saved-movies"===w?Object(u.jsx)(k,{}):"",Object(u.jsx)(z,{text:m,isOpen:a,onClose:function(){c(!1),j("")}})]})})})),Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,59)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(m.a,{children:Object(u.jsx)(X,{})})}),document.getElementById("root")),Y()}]),[[58,1,2]]]);
//# sourceMappingURL=main.c191161b.chunk.js.map